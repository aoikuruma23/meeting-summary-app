import sys
import os
sys.path.append(os.path.dirname(os.path.abspath(__file__)))

from app.core.database import Base, engine
from app.models import meeting, user

def create_tables():
    """ã™ã¹ã¦ã®ãƒ†ãƒ¼ãƒ–ãƒ«ã‚’ä½œæˆ"""
    print("=== ãƒ†ãƒ¼ãƒ–ãƒ«ä½œæˆé–‹å§‹ ===")
    
    try:
        # ã™ã¹ã¦ã®ãƒ†ãƒ¼ãƒ–ãƒ«ã‚’ä½œæˆ
        Base.metadata.create_all(bind=engine)
        print("âœ… ãƒ†ãƒ¼ãƒ–ãƒ«ä½œæˆå®Œäº†")
        
        # ãƒ†ãƒ¼ãƒ–ãƒ«ä¸€è¦§ã‚’ç¢ºèª
        from sqlalchemy import inspect
        inspector = inspect(engine)
        tables = inspector.get_table_names()
        print(f"ğŸ“‹ ä½œæˆã•ã‚ŒãŸãƒ†ãƒ¼ãƒ–ãƒ«: {tables}")
        
    except Exception as e:
        print(f"âŒ ãƒ†ãƒ¼ãƒ–ãƒ«ä½œæˆã‚¨ãƒ©ãƒ¼: {e}")
        import traceback
        print(f"è©³ç´°ã‚¨ãƒ©ãƒ¼: {traceback.format_exc()}")

if __name__ == "__main__":
    create_tables() 